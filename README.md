# brontosaurus - Sanic + JSON Schema + JSON RPC 2.0 + Python

Write small and fast JSON HTTP APIs in Python with these benefits:

* Automatic request validation
* Autogenerated API documentation in markdown



## Quick examples

A pet shop API

```
from brontosaurus import method, params, result

# JSON Schema for an existing pet document, used throughout the API
pet_schema = {
  'title': 'Pet',
  'description': 'All the data that represents a single pet.',
  'type': 'object',
  'required': ['id', 'name', 'status'],
  'properties': {
    'id': {'type': 'integer'},
    'category': {
      'type': 'object', 
      'required': ['id', 'name'],
      'properties': {
        'id': {'type': 'integer'},
        'name': {'type': 'string'}
      }
    },
    'name': {'type': 'string'},
    'photo_urls': {
      'type': 'array',
      'items': {'type': 'string'}
    },
    'tags': {
      'type': 'array',
      'items': {
        'type': 'object',
        'required': ['id', 'name'],
        'properties': {
          'id': {'type': 'integer'},
          'name': {'type': 'string'}
        }
      }
    }
  }
}

# JSON Schema for creating a new pet
# Photos are added after initial creation
new_pet_schema = {
  'title': 'New pet',
  'type': 'object',
  'required': ['name', 'status'],
  'properties': {
    'name': {'type': 'string'},
    'category': {
      'type': 'integer',
      'description': 'ID of the category for this pet'
    },
    'tags': {
      'type': 'array',
      'items': {
        'type': 'string',
        'description': 'List of tag names -- IDs will be fetched or saved by the server.'
      }
    }
  }
}

# JSON Schema for a single pet ID
pet_id = {
  'type': 'object',
  'required': ['pet_id'],
  'properties': {
    'pet_id': {'type': 'string'}
  }
}

@method('Find a pet by ID')
@params(pet_id)
@result(pet_schema)
def get_pet(params, headers):
  return mydb.fetch_by_id('Pet', params['pet_id'])


@method('Updates an existing pet')
@params(pet_schema)
@result({'type': 'null', 'description': 'Returns null on successful update.'})
def update_pet(params, headers):
  return mydb.update_doc('Pet', params)


@method('Deletes a pet')
@params(pet_id)
@result({'type': 'null', 'description': 'Returns null on successful deletion.'})
def delete_pet(params, headers):
  return mydb.delete_by_id('Pet', params['pet_id'])


@method('Add a new pet to the store')
@params(new_pet_schema)
@result(pet_schema)
def create_pet(params, headers):
  return mydb.create('Pet', params)
```

## Documentation

## Development

### Run the tests

### Contribution
